// Width

$spacer: 1rem !default;

// increment of 10px (i.e. x 1 = 10px )

$spacers: (
    0: 0,
    1: (
        $spacer * 0.625
    ),
    2: (
        $spacer * 1.25
    ),
    3: (
        $spacer * 1.875
    ),
    4: (
        $spacer * 2.5
    ),
    5: (
        $spacer * 3.125
    ),
    6: (
        $spacer * 3.75
    ),
    7: (
        $spacer * 4.375
    ),
    8: (
        $spacer * 5
    ),
    9: (
        $spacer * 5.625
    )
);

// Spacer half-sizes 0.3125 rem : 5px
$spacer-halved: 0.3125rem !default;

// Multiply a given unit value
@function multiplyunit($value, $multiplier) {
    $result: $value * $multiplier;

    @return $result;
}

// Create helper classes for 5px increments
@for $i from 1 through 9 {
    .mt-half-#{$i} {
        margin-top: multiplyunit($spacer-halved, $i) !important;
    }
    .ml-half-#{$i} {
        margin-left: multiplyunit($spacer-halved, $i) !important;
    }
    .mr-half-#{$i} {
        margin-right: multiplyunit($spacer-halved, $i) !important;
    }
    .mb-half-#{$i} {
        margin-bottom: multiplyunit($spacer-halved, $i) !important;
    }
}

// Positioning

$type-spacer: 4px;

// Type

h1,
h2,
h3,
h4,
h5,
h6,
p {
    margin-top: 0;
}

h1,
h2,
h3,
h4,
h5,
h6,
p {
    margin-bottom: 0 !important;
    margin-block-end: 0 !important;
}

/* H1 tag spacing */

p + h1,
ul + h1 {
    margin-top: $type-spacer * 12;
}

@media (max-width: $screen-xs-max) {
    p + h1,
    .small + h1,
    .smaller + h1 {
        margin-top: $type-spacer * 10;
    }

    ul + h1 {
        margin-top: $type-spacer * 6;
    }
}

/* H2 tag spacing */

h1 + h2,
p + h2,
h3 + h2,
ul + h2 {
    margin-top: $type-spacer * 12;
}

@media (max-width: $screen-xs-max) {
    h1 + h2,
    p + h2,
    .small + h2,
    .smaller + h2,
    ul + h2 {
        margin-top: $type-spacer * 6;
    }
}

/* H3 tag spacing */

h1 + h3 {
    margin-top: $type-spacer * 5;
}

h2 + h3,
p + h3,
ul + h3 {
    margin-top: $type-spacer * 8;
}

@media (max-width: $screen-xs-max) {
    h1 + h3 {
        margin-top: $type-spacer * 3;
    }

    h2 + h3,
    p + h3,
    .small + h3,
    .smaller + h3,
    ul + h3 {
        margin-top: $type-spacer * 5;
    }
}

/* H4 tag spacing */

h1 + h4 {
    margin-top: $type-spacer * 4;
}

h2 + h4,
h3 + h4,
p + h4,
ul + h4 {
    margin-top: $type-spacer * 6;
}

@media (max-width: $screen-xs-max) {
    h1 + h4 {
        margin-top: $type-spacer * 6;
    }

    h2 + h4,
    h3 + h4 {
        margin-top: $type-spacer * 5;
    }

    ul + h4 {
        margin-top: $type-spacer * 3;
    }

    p + h4,
    .small + h3,
    .smaller + h3 {
        margin-top: $type-spacer * 4;
    }
}

/* H5 tag spacing */

h3 + h5 {
    margin-top: $type-spacer * 4;
}

h4 + h5,
p + h5,
ul + h5 {
    margin-top: $type-spacer * 6;
}

@media (max-width: $screen-xs-max) {
    h1 + h5 {
        margin-top: $type-spacer * 6;
    }

    h2 + h5 {
        margin-top: $type-spacer * 5;
    }

    h3 + h5,
    h4 + h5,
    .small + h3 {
        margin-top: $type-spacer * 4;
    }

    p + h5,
    ul + h5 {
        margin-top: $type-spacer * 3;
    }

    .smaller + h3 {
        margin-top: $type-spacer * 2;
    }
}

/* H6 tag spacing */

h5 + h6,
p + h6,
ul + h6 {
    margin-top: $type-spacer * 6;
}

@media (max-width: $screen-xs-max) {
    h1 + h6,
    h2 + h6 {
        margin-top: $type-spacer * 4;
    }

    h3 + h6,
    ul + h6 {
        margin-top: $type-spacer * 3;
    }

    h4 + h6,
    h5 + h6,
    p + h6,
    .small + h6,
    .smaller + h6 {
        margin-top: $type-spacer * 2;
    }
}

/* P tag spacing */

h1 + p {
    margin-top: $type-spacer * 4;
}

h2 + p,
.anchor + p {
    margin-top: $type-spacer * 4;
}

h3 + p,
h4 + p,
h5 + p,
h6 + p,
p + p,
li + p,
ul + p {
    margin-top: $type-spacer * 2;
}

@media (max-width: $screen-xs-max) {
    h1 + p,
    h2 + p {
        margin-top: $type-spacer * 4;
    }

    h3 + p {
        margin-top: $type-spacer * 3;
    }

    h4 + p,
    h5 + p,
    h6 + p,
    p + p,
    .small + p,
    .smaller + p,
    .anchor + p,
    ul + p {
        margin-top: $type-spacer * 2;
    }
}

/* small title tag spacing */

.small + .small-title {
    margin-top: $type-spacer * 4;
}

/* small tag spacing */

h3 + small,
h3 + .small,
h4 + small,
h4 + .small,
h5 + small,
h5 + .small,
p + small,
p + .small,
.small + .small,
.small-title + .small,
.smaller + .small {
    margin-top: $type-spacer * 2;
}

/* code */

p + pre {
    margin-top: $type-spacer * 3;
}

@media (max-width: $screen-xs-max) {
    p + pre {
        margin-top: $type-spacer * 2;
    }
}

/* img & video */

h1 + img,
h1 + .shortcode-img {
    margin-top: $type-spacer * 6;
}

h2 + img,
h2 + .shortcode-img {
    margin-top: $type-spacer * 5;
}

h3 + img,
h3 + .shortcode-img,
h4 + img,
h4 + .shortcode-img {
    margin-top: $type-spacer * 5;
}

h5 + img,
h5 + .shortcode-img,
h6 + img,
h6 + .shortcode-img {
    margin-top: $type-spacer * 5;
}

p + img,
p + .shortcode-img {
    margin-top: $type-spacer * 3;
}

img + h1,
.shortcode-img + h1,
img + h2,
.shortcode-img + h2,
img + h3,
.shortcode-img + h3,
img + h4,
.shortcode-img + h4,
img + h5,
.shortcode-img + h5,
img + h6,
.shortcode-img + h6,
img + p,
.shortcode-img + p,
img + pre,
.shortcode-img + pre {
    margin-top: $type-spacer * 3;
}

/* ul */

h1 + ul,
h2 + ul,
h3 + ul,
h4 + ul,
h5 + ul,
h6 + ul {
    margin-top: $type-spacer * 4;
}

p + ul {
    margin-top: $type-spacer * 2;
}
